<!--

    Copyright (C) 2009 eXo Platform SAS.
    
    This is free software; you can redistribute it and/or modify it
    under the terms of the GNU Lesser General Public License as
    published by the Free Software Foundation; either version 2.1 of
    the License, or (at your option) any later version.
    
    This software is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
    Lesser General Public License for more details.
    
    You should have received a copy of the GNU Lesser General Public
    License along with this software; if not, write to the Free
    Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
    02110-1301 USA, or see the FSF site: http://www.fsf.org.

-->

<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook V4.4//EN" "http://www.oasis-open.org/docbook/sgml/4.4/docbookx.dtd">
<chapter><title>Export-Import Portal Configuration</title>
<para>Here is a fast way to export the portal configuration and to import it again. This how to can be useful when :</para>
<itemizedlist><listitem>you change the version of your server but don't want to loose all your configuration</listitem><listitem>you want to change the configuration on an existing server without loosing all existing data</listitem></itemizedlist><para>Follow these steps :</para><orderedlist numeration="arabic"><listitem>Build and deploy a new portal. Connect to the portal as root.</listitem></orderedlist><orderedlist numeration="arabic"><listitem>Once connected, open the portlet ECM Admin.</listitem></orderedlist><orderedlist numeration="arabic"><listitem>In the category &quot;Content Presentation / Drives&quot; edit the drive &quot;System Files&quot; and add the view &quot;admin-view&quot;.</listitem></orderedlist><orderedlist numeration="arabic"><listitem>Open the File Explorer portlet, and browse the drive &quot;System Files&quot; to the path : /exo:registry/exo:applications/MainPortalData/classic (classic is the name of the portal of which you want to save the configuration, we will use it in this how to).</listitem></orderedlist><orderedlist numeration="arabic"><listitem>Switch to admin-view, and click on &quot;Export a node&quot;.</listitem></orderedlist><orderedlist numeration="arabic"><listitem>Save the file on your hard drive, without compression. Your new configuration is now exported in an XML file, ready to be re imported in another server.</listitem></orderedlist><orderedlist numeration="arabic"><listitem>Connect by WebDAV to the new server (with user root), and open the URL : http://server:port/rest/jcr/repository/system/exo:registry/exo:applications/MainPortalData, delete the folder &quot;classic&quot;.</listitem></orderedlist><orderedlist numeration="arabic"><listitem>Connect to the portal as root, and do the steps 2 to 4 again, except in 4, the path is now : /exo:registry/exo:applications/MainPortalData.</listitem></orderedlist><orderedlist numeration="arabic"><listitem>Switch to admin-view, click on &quot;Import a node&quot; and select the XML file with the format used at export (step 5).</listitem></orderedlist>
<para>The new configuration is now imported in the portal.</para>
</chapter>